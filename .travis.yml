sudo: required
dist: trusty
# addons:
#   chrome: stable

language: python
python:
  - "3.6.3"      # current default Python on Travis CI
# command to install dependencies

env:
  matrix:
    - SELENIUM_WEBDRIVER=default
matrix:
  include:
    - python: 3.6.3
      env: SELENIUM_WEBDRIVER=default
  fast_finish: true



before_install:
  - echo $PATH
#  - google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &

install:
  - pip install -r requirement.txt

  - pip install -U setuptools
  - pip install pipenv
  - pipenv install --dev --system
# command to run tests

before_script:
  - wget https://chromedriver.storage.googleapis.com/78.0.3904.70/chromedriver_linux64.zip
  - unzip chromedriver_linux64.zip -d /home/travis/virtualenv/python3.6.3/bin/
  - export CHROME_BIN=chromium-browser
  - python --noinput --settings test_settings

script:
# - python main.py
# - python test.py
  - pytest  --cov=./
#  - pytest  --cov=./  --driver Chrome --driver-path ./chromedriver/chromedriver_linux


after_success:
#  public repo on Travis CI
  - bash <(curl -s https://codecov.io/bash)

# private repo
# - bash <(curl -s https://codecov.io/bash) -t your-repository-upload-token
